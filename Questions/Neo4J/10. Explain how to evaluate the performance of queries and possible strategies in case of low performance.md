### 10. Explain how to evaluate the performance of queries and possible strategies in case of low performance

In order to evaluate the performance of a query using Cypher you can add the ``` PROFILE``` clause on a query. This will then give us the execution plan for the query which breaks down into 3 operators:

- Rows: the number of rows that the operation produced
- EstimatedRows: if cost-based compiler is used the compiler will use the estimation of rows produced to choose which plan to go by
- DbHits: Each operator will ask the Neo4J storage engnie to do work such as retrieving or updating data.

Here is a list of all the execution plans:

| Name                                     | Operator type  | Description                              |
| ---------------------------------------- | -------------- | ---------------------------------------- |
| [AllNodesScan](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/starting-point-operators/#query-plan-all-nodes-scan) | Starting point | Reads all nodes from the node store.     |
| [AntiConditionalApply](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/combining-operators/#query-plan-anti-conditional-apply) | Combining      | Checks whether a variable is `null`, and if so the right-hand side will be executed. |
| [AntiSemiApply](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/combining-operators/#query-plan-anti-semi-apply) | Combining      | Tests for the existence of a pattern predicate. |
| [Apply](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/combining-operators/#query-plan-apply) | Combining      | `Apply` works by performing a nested loop. |
| [AssertSameNode](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/combining-operators/#query-plan-assert-same-node) | Combining      | This operator is used to ensure that no uniqueness constraints are violated. |
| [ConditionalApply](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/combining-operators/#query-plan-conditional-apply) | Combining      | Checks whether a variable is not `null`, and if so the right-hand side will be executed. |
| [Constraint operation](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/update-operators/#query-plan-constraint-operation) | Update         | Creates a constraint on a (label,property) pair. |
| [DirectedRelationshipByIdSeek](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/starting-point-operators/#query-plan-directed-relationship-by-id-seek) | Starting point | Reads one or more relationships by id from the relationship store. |
| [Distinct](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/row-operators/#query-plan-distinct) | Row            | Removes duplicate rows from the incoming stream of rows. |
| [Eager](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/row-operators/#query-plan-eager) | Row            | For isolation purposes, `Eager` ensures that operations affecting subsequent operations are executed fully for the whole dataset before continuing execution. |
| [EagerAggregation](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/row-operators/#query-plan-eager-aggregation) | Row            | Eagerly loads underlying results and stores it in a hashmap, using the grouping keys as the keys for the map. |
| [EmptyResult](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/update-operators/#query-plan-empty-result) | Update         | Eagerly loads everything coming in to the EmptyResult operator and discards it. |
| [Expand(All)](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/expand-operators/#query-plan-expand-all) | Expand         | Given a start node, `Expand(All)` will follow incoming or outgoing relationships, depending on the pattern relationship. |
| [Expand(Into)](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/expand-operators/#query-plan-expand-into) | Expand         | When both the start and end node have already been found, `Expand(Into)` is used to find all connecting relationships between the two nodes. |
| [Filter](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/row-operators/#query-plan-filter) | Row            | Filters each row coming from the child operator, only passing through rows that evaluate the predicates to `true`. |
| [LetAntiSemiApply](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/combining-operators/#query-plan-let-anti-semi-apply) | Combining      | Tests for the absence of a pattern predicate in queries containing multiple pattern predicates. |
| [LetSemiApply](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/combining-operators/#query-plan-let-semi-apply) | Combining      | Tests for the existence of a pattern predicate in queries containing multiple pattern predicates. |
| [Limit](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/row-operators/#query-plan-limit) | Row            | Returns the first 'n' rows from the incoming input. |
| [Merge(Into)](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/update-operators/#query-plan-merge-into) | Update         | When both the start and end node have already been found, `Merge(Into)` is used to find all connecting relationships or creating a new relationship between the two nodes. |
| [NodeByIdSeek](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/starting-point-operators/#query-plan-node-by-id-seek) | Starting point | Reads one or more nodes by id from the node store. |
| [NodeByLabelScan](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/starting-point-operators/#query-plan-node-by-label-scan) | Starting point | Using the label index, fetches all nodes with a specific label on them from the node label index. |
| [NodeCountFromCountStore](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/row-operators/#query-plan-node-count-from-count-store) | Row            | Uses the count store to answer questions about node counts. |
| [NodeHashJoin](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/combining-operators/#query-plan-node-hash-join) | Combining      | Using a hash table, a `NodeHashJoin` joins the input coming from the left with the input coming from the right. |
| [NodeIndexContainsScan](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/starting-point-operators/#query-plan-node-index-contains-scan) | Starting point | An index contains scan goes through all values stored in an index, and searches for entries containing a specific string. |
| [NodeIndexScan](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/starting-point-operators/#query-plan-node-index-scan) | Starting point | An index scan goes through all values stored in an index, and can be used to find all nodes with a particular label having a specified property. |
| [NodeIndexSeek](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/starting-point-operators/#query-plan-node-index-seek) | Starting point | Finds nodes using an index seek.         |
| [NodeIndexSeekByRange](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/starting-point-operators/#query-plan-node-index-range-seek) | Starting point | Finds nodes using an index seek where the value of the property matches a given prefix string. |
| [NodeUniqueIndexSeek](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/starting-point-operators/#query-plan-node-index-seek) | Starting point | Finds nodes using an index seek within a unique index. |
| [OptionalExpand(All)](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/expand-operators/#query-plan-optional-expand-all) | Expand         | Traverses relationships from a given node, and ensures that predicates are evaluated before producing rows. |
| [ProcedureCall](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/row-operators/#query-plan-call-procedure) | Row            | Calls a procedure.                       |
| [Projection](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/row-operators/#query-plan-projection) | Row            | For each row from its input, projection evaluates a set of expressions and produces a row with the results of the expressions. |
| [RelationshipCountFromCountStore](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/row-operators/#query-plan-relationship-count-from-count-store) | Row            | Uses the count store to answer questions about relationship counts. |
| [SelectOrAntiSemiApply](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/combining-operators/#query-plan-select-or-anti-semi-apply) | Combining      | Tests for the absence of a pattern predicate and evaluates a predicate. |
| [SelectOrSemiApply](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/combining-operators/#query-plan-select-or-semi-apply) | Combining      | Tests for the existence of a pattern predicate and evaluates a predicate. |
| [SemiApply](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/combining-operators/#query-plan-semi-apply) | Combining      | Tests for the existence of a pattern predicate. |
| [Skip](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/row-operators/#query-plan-skip) | Row            | Skips 'n' rows from the incoming rows.   |
| [Sort](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/row-operators/#query-plan-sort) | Row            | Sorts rows by a provided key.            |
| [Top](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/row-operators/#query-plan-top) | Row            | Returns the first 'n' rows sorted by a provided key. |
| [Triadic](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/combining-operators/#query-plan-triadic) | Combining      | `Triadic` is used to solve triangular queries, such as the very common 'find my friend-of-friends that are not already my friend'. |
| [UndirectedRelationshipByIdSeek](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/starting-point-operators/#query-plan-undirected-relationship-by-id-seek) | Starting point | Reads one or more relationships by id from the relationship store. |
| [Union](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/row-operators/#query-plan-union) | Row            | Concatenates the results from the right plan after the results of the left plan. |
| [Unwind](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/row-operators/#query-plan-unwind) | Row            | Takes a list of values and returns one row per item in the list. |
| [UpdateGraph](https://neo4j.com/docs/developer-manual/current/cypher/execution-plans/update-operators/#query-plan-update-graph) | Update         | Applies updates to the graph.            |



So if your query returns some kind of scan execution plan that will mean that all nodes or relationships will be scanned, and even if the condition you've searched for has been found, and you know that there is only one, the database will continue with the scan. So this could mean that you should create an index on an attribute of the node or relationship in order to get a seek plan instead which uses BTress or Hashing to retrieve data which would either be O(log N) or O(1) which in both cases is much more preferable than O(n).